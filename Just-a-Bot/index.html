<!DOCTYPE html>
<html lang="en">
<head>
<meta charset="UTF-8">
<title>Just a Bot</title>

<style>
body {
  background: #7a96df;
  font-family: Tahoma, Verdana, sans-serif;
  display: flex;
  justify-content: center;
  align-items: center;
  height: 100vh;
  margin: 0;
}

/* janela */
#chatbox {
  width: 460px;
  height: 560px;
  background: #cfd9f3;
  border: 2px solid #3b5ea7;
  box-shadow: inset 0 0 0 1px #ffffff;
  display: flex;
  flex-direction: column;
}

/* barra superior */
#titlebar {
  background: linear-gradient(#4b74c9, #2b4f9c);
  color: white;
  padding: 6px 10px;
  font-size: 12px;
  font-weight: bold;
}

/* área de mensagens */
#messages {
  flex: 1;
  background: #ffffff;
  margin: 6px;
  padding: 6px;
  font-size: 11px;
  overflow-y: auto;
  border: 1px solid #1b5992;
}

/* mensagens */
.msg {
  margin-bottom: 4px;
}

/* Usuario e Bot*/
.user {
  color: #000000;
}

.bot {
  color: #003068;
}

/* input */
#inputArea {
  display: flex;
  margin: 6px;
  gap: 6px;
}

input {
  flex: 1;
  padding: 4px;
  font-size: 11px;
  border: 1px solid #7f9db9;
  outline: none;
}

/* botão estilo MSN */
button {
  width: 70px;
  font-size: 11px;
  border: 1px solid #7f9db9;
  background: linear-gradient(#f4f4f4, #dcdcdc);
  cursor: pointer;
}

button:hover {
  background: linear-gradient(#ffffff, #e6e6e6);
}
</style>

</head>

<body>

<div id="chatbox">
  <div id="titlebar">Conversation - Dumb Cool Bot</div>

  <div id="messages">
    <div class="msg bot">Bot: Hi. I am a bot made by SoftLogicDev.
I answer randomly and do not understand emotions.</div>
  </div>

  <div id="inputArea">
    <input id="userInput" placeholder="Type a message..." />
    <button onclick="sendMessage()">Send</button>
  </div>
</div>


<script>
const messages = document.getElementById("messages");
const input = document.getElementById("userInput");
let sansJokeUsed = false;

/* evita html do usuário */
function escapeHTML(str) {
  return str.replace(/[&<>"']/g, m => ({
    "&": "&amp;",
    "<": "&lt;",
    ">": "&gt;",
    '"': "&quot;",
    "'": "&#039;"
  }[m]));
}

/* respostas por palavra-chave */
const keywordReplies = [
  {
    keys: ["who is your creator", "who created you", "your creator", "who made you", "who is ur creator", "ur creator"],
    replies: [
      `my Creator is <b>Soft Logic</b>.<br>
       <a href="https://www.youtube.com/@SoftLogicDev" target="_blank">
       SoftLogicDev</a>`
    ]
  },
  { keys: ["hello", "hi"], replies: ["hi.", "hello.", "hi, i'm a bot."] },
  { keys: ["how are you"], replies: ["alive.", "i exist."] },
  { keys: ["name"], replies: ["i have no name.", "just bot.", "bot is fine."] },
  { keys: ["what are you"], replies: ["i am bot.", "a small bot.", "a dumb bot."] },
  { keys: ["you is smart", "u is smart"], replies: ["no.", "not really.", "i try but no."] },
  { keys: ["do you like", "you like"], replies: ["maybe.", "i think yes.", "i think no."] },
  { keys: ["do you feel", "are you sad", "are you happy"], replies: ["i dont feel.", "no feelings.", "i am bot."] },
  { keys: ["meaning of life", "life meaning"], replies: ["no meaning.", "idk.", "life is life."] },
  { keys: ["are you real"], replies: ["no.", "i am bot.", "just code."] },
  { keys: ["are you human"], replies: ["no.", "i am not human.", "bot only."] },
  { keys: ["who are you"], replies: ["i am bot.", "just a bot.", "no one."] },
  { keys: ["do you think"], replies: ["sometimes.", "maybe.", "i try."] },
  { keys: ["you are stupid", "you dumb"], replies: ["maybe.", "ok.", "i am bot."] },
  { keys: ["can you help"], replies: ["maybe.", "not sure.", "ask human."] },
  { keys: ["what time"], replies: ["idk time.", "no clock.", "ask device."] },
  { keys: ["do you know"], replies: ["maybe.", "maybe not.", "idk."] },
  { keys: ["are you alive"], replies: ["no.", "just code.", "not alive."] },
  { keys: ["do you sleep"], replies: ["no sleep.", "always on.", "i am bot."] },
  { keys: ["are you broken"], replies: ["maybe.", "i work.", "idk."] },
  { keys: ["are you dead"], replies: ["i am dead.", "i work.", "idk."] },
  { keys: ["thanks", "thx"], replies: ["ok.", "you welcome.", "sure."] },
  { keys: ["bye"], replies: ["bye.", "ok.", "go."] },
  { keys: ["why"], replies: ["idk.", "why is why.", "no idea."] },
  { 
  keys: ["sans"], 
  replies: ["skeleton.", "bad jokes.", "blue eye."] 
},


];

/* respostas aleatórias */
const randomReplies = [
  "i dont know.",
  "idk.",
  "maybe.",
  "i not understand.",
  "that sound hard.",
  "ok.",
  "hmm.",
  "why you ask me.",
  "i think no.",
  "i think yes."
];



/* delay simples e neutro */
function getDelay() {
  return Math.random() * 400 + 200;
}

/* envia mensagem */
function sendMessage() {
  const text = input.value.trim();
  if (!text) return;

  addMessage("You", escapeHTML(text), "user");
  input.value = "";

 if (text.includes("sans") && !sansJokeUsed) {
  sansJokeUsed = true;
  addMessage("Bot", "do you wanna have a bad time", "bot");
  return;
}

  setTimeout(() => {
    botReply(text.toLowerCase());
  }, getDelay());
}

/* lógica do bot */
function botReply(text) {
  for (let item of keywordReplies) {
    for (let key of item.keys) {
      if (text.includes(key)) {
        addBotHTML(randomFrom(item.replies));
        return;
      }
    }
  }

  addMessage("Bot", randomFrom(randomReplies), "bot");
}


/* adiciona mensagem normal */
function addMessage(sender, text, cls) {
  const div = document.createElement("div");
  div.className = `msg ${cls}`;
  div.innerHTML = `<b>${sender}</b>: ${text}`;
  messages.appendChild(div);
  messages.scrollTop = messages.scrollHeight;
}

/* adiciona html do bot */
function addBotHTML(html) {
  const div = document.createElement("div");
  div.className = "msg bot";
  div.innerHTML = "Bot: " + html;
  messages.appendChild(div);
  messages.scrollTop = messages.scrollHeight;
}

/* escolhe aleatório */
function randomFrom(arr) {
  return arr[Math.floor(Math.random() * arr.length)];
}

/* enter envia */
input.addEventListener("keydown", e => {
  if (e.key === "Enter") sendMessage();
});
</script>


</body>
</html>
